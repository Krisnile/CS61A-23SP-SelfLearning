(this["webpackJsonphog-gui"]=this["webpackJsonphog-gui"]||[]).push([[0],{53:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),i=n(19),s=n.n(i),j=(n(53),n(11)),o=n(37),l=n(6),u=(n(54),n(46)),b=n(39),h=n(29),O=n(20),x=n.n(O),d=n(47),g=n(23),f=n(15),p=n(13),m=n(8),v=n(9),y=n(1),C=v.a.div(r||(r=Object(m.a)(["\n  font-size: 1.25rem;\n  width: 100%;\n  text-align: center;\n  margin: 20px;\n"])));function w(e){var t=e.numRolls;return Object(y.jsxs)(C,{children:[Object(y.jsxs)("p",{children:["It is the ",Object(y.jsx)("b",{children:"COMPUTER\u2018s"})," turn."]}),Object(y.jsxs)("p",{children:["The computer rolls ",t," dice."]})]})}var k=v.a.div(a||(a=Object(m.a)(["\n  margin-top: 15px;\n"])));function R(e){var t=e.gameRules,n=e.onGameRulesChange;return Object(y.jsxs)(k,{children:[Object(y.jsx)("h5",{children:"Enable game rules:"}),Object.entries(t).map((function(e){var t=Object(l.a)(e,2),r=t[0],a=t[1];return Object(y.jsx)(h.a.Check,{custom:!0,inline:!0,type:"switch",id:"rule-checkbox-".concat(r),checked:a,label:r,onChange:function(){return n(r,!a)}},r)}))]})}var S,P=n(25),I=n(34),E=v.a.div(S||(S=Object(m.a)(["\n  margin-top: 15px;\n"])));function T(e){var t=e.strategy,n=e.onStrategyChange,r="Pick a strategy",a=t||r,i=Object(c.useState)(a),s=Object(l.a)(i,2),j=s[0],o=s[1];return Object(y.jsxs)(E,{children:[Object(y.jsx)("h5",{children:"Play against the computer:"}),Object(y.jsxs)(I.a,{className:"mb-3",children:[Object(y.jsx)(I.a.Prepend,{children:Object(y.jsx)(I.a.Checkbox,{"aria-label":"Checkbox for following text input",checked:!!t,onChange:function(e){e.target.checked?n(j):n(null)}})}),Object(y.jsxs)(P.a,{as:"select",onChange:function(e){o(e.target.value),n(e.target.value)},value:j,children:[Object(y.jsx)("option",{disabled:!0,hidden:!0,children:r}),Object(y.jsx)("option",{children:"tail_strategy"}),Object(y.jsx)("option",{children:"square_strategy"}),Object(y.jsx)("option",{children:"final_strategy"})]})]})]})}var G,_,N=n(48);function M(e){var t=e.messages;return t?t.map((function(e,t){return Object(y.jsx)(N.a,{variant:"dark",children:e},t)})):null}var A=v.a.div(G||(G=Object(m.a)(["\n  text-align: center;\n  width: 100%;\n"]))),z=v.a.img(_||(_=Object(m.a)(["\n  width: 120px;\n  height: 120px;\n  margin: 10px;\n"])));function L(e){var t=e.rolls.map((function(e,t){return Object(y.jsx)(z,{src:"/dice_graphic.svg?num="+e},t)}));return Object(y.jsx)(A,{children:t})}function D(){return F.apply(this,arguments)}function F(){return(F=Object(g.a)(x.a.mark((function e(){var t,n,r,a=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,{method:"POST",mode:"same-origin",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"manual",body:JSON.stringify(n)});case 4:if(200===(r=e.sent).status){e.next=7;break}throw new Error("Error ".concat(r.status,"."));case 7:return e.abrupt("return",r.json());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H,J,U,q,B=n(28),V=["ZERO","ONE"],Y=["#28a745","#17a2b8"],W=["white","white"],Z=v.a.div(H||(H=Object(m.a)(["\n  font-size: 1.25rem;\n  width: 100%;\n  text-align: center;\n  margin-top: 20px;\n"])));function K(e){var t=e.playerIndex,n=e.pigTail,r=e.onClick,a=n?0:1,i=Object(c.useState)(a),s=Object(l.a)(i,2),j=s[0],o=s[1];return Object(y.jsxs)(Z,{children:[Object(y.jsxs)("p",{children:["It is Player"," ",Object(y.jsxs)("b",{children:[V[t],"\u2018s"]})," ","turn."]}),Object(y.jsxs)("p",{children:["Roll"," ",Object(y.jsx)("input",{type:"number",min:a,max:10,value:j,onChange:function(e){var t=Math.max(Math.min(10,e.target.value),a);o(e.target.value&&t)}})," ","Dice.",Object(y.jsxs)(B.a,{variant:"info",size:"lg",style:{marginLeft:"10px"},onClick:function(){r(j)},children:[" ","Roll!"]})]}),Object(y.jsx)("p",{})]})}function Q(e){return new Promise((function(t){return setTimeout(t,e)}))}function X(e){var t=e.numRolls,n=function(){return Array(t).fill().map((function(){return Math.floor(6*Math.random())+1}))},r=Object(c.useState)(n),a=Object(l.a)(r,2),i=a[0],s=a[1];return function(e,t){var n=Object(c.useRef)(e);n.current=e,Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){s(n)}),200),Object(y.jsx)(L,{rolls:i})}var $,ee=v.a.div(J||(J=Object(m.a)(["\n  width: 150px;\n  border: solid black 2px;\n  font-weight: bold;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n"]))),te=v.a.div(U||(U=Object(m.a)(["\n  width: 100%;\n  height: 130px;\n  line-height: 130px;\n  font-size: 48pt;\n  background: ",";\n"])),(function(e){return e.isCurrent?"white":"transparent"})),ne=v.a.div(q||(q=Object(m.a)(["\n  width: 100%;\n  line-height: 30px;\n  background: ",";\n  color: white;\n"])),(function(e){return e.isCurrent?"#17a2b8":"grey"}));function re(e){var t=e.score,n=e.playerIndex,r=e.currentPlayer===n;return Object(y.jsxs)(ee,{children:[Object(y.jsx)(te,{isCurrent:r,children:t}),Object(y.jsxs)(ne,{isCurrent:r,children:[r?"\u279c ":"","Player ",V[n]]})]})}var ae,ce=v.a.div($||($=Object(m.a)(["\n  display: flex;\n  justify-content: space-evenly;\n"])));function ie(e){var t=e.scores,n=e.currentPlayer;return Object(y.jsx)(ce,{children:t.map((function(e,t){return Object(y.jsx)(re,{score:e,playerIndex:t,currentPlayer:n},t)}))})}var se=v.a.div(ae||(ae=Object(m.a)(["\n  text-align: center;\n  margin-top: 30px;\n  font-weight: bold;\n  font-size: 24px;\n  width: 100%;\n  color: ",";\n  background: ",";\n  padding: 5px;\n"])),(function(e){return e.color}),(function(e){return e.bgColor}));function je(e){var t=e.winner;e.onRestart,e.onStrategyChange;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(p.a,{children:Object(y.jsxs)(se,{color:W[t],bgColor:Y[t],children:["Player ",V[t]," has won! Congratulations!"]})})})}var oe="WAITING_FOR_INPUT",le="DISPLAYING_COMPUTER_MOVE",ue="ROLLING_DICE",be="DISPLAYING_CHANGE",he="GAME_OVER",Oe=100;function xe(e){var t,n=e.onRestart,r=e.strategy,a=e.onStrategyChange,i=e.gameRules,s=e.onGameRulesChange,o=Object(c.useState)(oe),u=Object(l.a)(o,2),b=u[0],h=u[1],O=Object(c.useState)([]),m=Object(l.a)(O,2),v=m[0],C=m[1],k=Object(c.useState)(0),S=Object(l.a)(k,2),P=S[0],I=S[1],E=Object(c.useState)([0,0]),G=Object(l.a)(E,2),_=G[0],N=G[1],A=Object(c.useState)(0),z=Object(l.a)(A,2),F=z[0],H=z[1],J=Object(c.useState)([]),U=Object(l.a)(J,2),q=U[0],B=U[1],V=Object(c.useRef)([]),Y=Object(c.useRef)([]),W=function(){var e=Object(g.a)(x.a.mark((function e(t){var n,a,c,s,j,o,u,b,O,g=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.length>1&&void 0!==g[1]?g[1]:P,h(ue),H(t),V.current.push(t),e.next=6,Promise.all([D("/take_turn",{prevRolls:Y.current,moveHistory:V.current,goal:Oe,gameRules:i})].concat([t&&Q(1e3)]));case 6:if(n=e.sent,a=Object(l.a)(n,1),c=a[0],s=c.message,j=c.rolls,o=c.finalScores,u=c.who,C(j.slice(Y.current.length)),N(o),h(be),b=[],s&&b.push(s),B(b),Y.current=j,e.t0=r,!e.t0){e.next=24;break}return e.next=24,Q(2500);case 24:if(I(u),!(Math.max.apply(Math,Object(d.a)(o))>=Oe)){e.next=29;break}h(he),e.next=41;break;case 29:if(1!==u||!r){e.next=40;break}return e.next=32,D("/strategy",{name:r,scores:_});case 32:return O=e.sent,H(O),h(le),e.next=37,Q(2500);case 37:return e.abrupt("return",W(O,u));case 40:h(oe);case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=(t={},Object(j.a)(t,oe,Object(y.jsx)(L,{rolls:v})),Object(j.a)(t,ue,Object(y.jsx)(X,{numRolls:F})),Object(j.a)(t,be,Object(y.jsx)(L,{rolls:v})),Object(j.a)(t,he,null),Object(j.a)(t,le,Object(y.jsx)(w,{numRolls:F})),t)[b];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(ie,{scores:_,currentPlayer:P})})}),b!==le&&b!==he&&Object(y.jsx)(p.a,{children:Object(y.jsx)(K,{playerIndex:P,pigTail:i["Pig Tail"],onClick:W})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Z})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(M,{messages:q})})}),b===he&&Object(y.jsx)(je,{winner:_[0]>_[1]?0:1,onRestart:n,onStrategyChange:a}),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(R,{gameRules:i,onGameRulesChange:s})})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(f.a,{children:Object(y.jsx)(T,{strategy:r,onStrategyChange:a})})})]})]})}function de(e){var t=e.onClick;return Object(y.jsx)(B.a,{variant:"secondary",onClick:t,children:"New Game"})}n(62);function ge(){var e=Object(c.useState)(0),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),i=Object(l.a)(a,2),s=i[0],O=i[1],x=Object(c.useState)({"Pig Tail":!1,"Square Swine":!1}),d=Object(l.a)(x,2),g=d[0],f=d[1],p=function(){r((function(e){return e+1}))};return Object(y.jsxs)(u.a,{children:[Object(y.jsxs)(b.a,{bg:"dark",variant:"dark",className:"justify-content-between hognav",children:[Object(y.jsxs)(b.a.Brand,{children:["The Game of ",Object(y.jsx)("strong",{children:"Hog"})]}),Object(y.jsx)(h.a,{inline:!0,children:Object(y.jsx)(de,{onClick:p})})]}),Object(y.jsx)(xe,{style:{paddingTop:"10px"},strategy:s,onStrategyChange:function(e){O(e),p()},gameRules:g,onGameRulesChange:function(e,t){f(Object(o.a)(Object(o.a)({},g),{},Object(j.a)({},e,t))),p()},onRestart:p},n)]})}s.a.render(Object(y.jsx)(ge,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.03bfe445.chunk.js.map